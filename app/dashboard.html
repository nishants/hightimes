<!DOCTYPE html>
<head>
    <script src="js/lib/jquery.js"></script>
    <script src="js/hightimes.js"></script>
    <script src="js/config.js"></script>
    <script src="js/instagram/instagram.js"></script>
    <script src="js/instagram/page.js"></script>
    <script src="js/instagram/paged-resource.js"></script>
    <script src="js/mock.js"></script>
</head>

<body>
<h1>Welcome</h1>
<p id="welcome">Wait while we load you profile....</p>
</body>
<script>

    var mockRequests = function(){
        $.ajax = function(params){
          if(params.url.indexOf("/media/recent") != -1)  params.success(hightimes.mock.media) ;
          if(params.url.indexOf("/followed-by")  != -1)  params.success(hightimes.mock.followers);
        };
    };

    var init = function(){
        mockRequests();

        var forEachFollowersDo = function (user) {
            console.log("Analyzing behaviour of " + user.full_name)
        };

        var forEachFollowerPostDo = function (user, post) {
            console.log(user.full_name + " posted " + post.type + " at " + post.created_time);
        };

        hightimes.forAllPostsOfFollowersDo("1924007889", forEachFollowersDo, forEachFollowerPostDo);
    };

    $(document).ready(init);
</script>
</html>