<!DOCTYPE html>
<head>
    <link rel="stylesheet" href="css/app.css">
    <script src="js/lib/jquery.js"></script>

    <script src="js/hightimes.js"></script>
    <script src="js/config.js"></script>
    <script src="js/login.js"></script>
</head>

<body>

<form class="centered">
    <h1>HighTimes</h1>
    <input type="hidden" id="redirect-uri" name="redirect_uri" value=""/>
    <input type="hidden" id="response-type" name="response_type" value="code"/>

    <input id="instagram-user-id" name="user_id" placeholder="User id" class="row" value="1924007889"/>

    <button id="login-button">
        Login
    </button>
</form>

<script>

    var navigateTo = function (url) {
        window.location.href = url;
    };

    var userID = function () {
        return $("#instagram-user-id").val()
    };

    var loginUrl = function(config, userId){
        return hightimes.loginUrlWith(config).forId(userId)
    };

    var config = function(){
        return hightimes.clientConfig;
    };

    var init = function () {
        $("#login-button").click(function () {
            navigateTo(loginUrl(
                            config(),
                            userID()
                    )
            );
            return false;
        });
    };

    $(document).ready(init);
</script>
</body>
</html>